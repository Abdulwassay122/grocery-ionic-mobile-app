<ion-header>
  <ion-toolbar>
    <ion-title class="ion-text-center">
      <div>
        <span>
          Kangsayur
        </span>
        <img src="../../assets/images/Vector.png" alt="Logo" />
      </div>
    </ion-title>
  </ion-toolbar>
  <div class="search">
    <ion-item class="search-bar">
      <ion-icon name="search-outline"></ion-icon>
      <ion-input placeholder="Search for fruits, vegetables, groce..."></ion-input>
    </ion-item>
    <ion-icon name="mail-outline"></ion-icon>
    <ion-icon name="notifications-outline"></ion-icon>
  </div>
</ion-header>

<ion-content>
  <!-- location -->
  <div class="location">
    <div>
      <ion-icon name="location-outline"></ion-icon>
      <p>Sent to</p>
    </div>
    <div>
      <p class=".bold">Pamulang Barat Residence No.5, RT 05/ ...</p>
      <ion-icon name="chevron-down-outline"></ion-icon>
    </div>
  </div>

  <!-- slide -->
  <div class="half-bg-box">
    <div class="half-bg"></div>
    <div class="slider">
      <swiper-container slides-per-view="auto" autoplay >
        <swiper-slide><img src="../../assets/images/Frame 169.png" /></swiper-slide>
        <swiper-slide><img src="../../assets/images/Frame 169.png" /></swiper-slide>
        <swiper-slide><img src="../../assets/images/Frame 169.png" /></swiper-slide>
      </swiper-container>
    </div>
  </div>

  <!-- categories -->
  <div class="categories-section">
    <h2 class="categories-heading">Categories</h2>
    <swiper-container class="categories" slides-per-view="auto" space-between="20">
      <swiper-slide class="category">
        <div>
          <img
            src="../../assets/images/kisspng-spinach-salad-vegetarian-cuisine-vegetable-clip-ar-spinach-5a753501c985f2 1.png"
            alt="">
        </div>
        <p>Vegetables</p>
      </swiper-slide>
      <swiper-slide class="category">
        <div>
          <img
            src="../../assets/images/kisspng-spinach-salad-vegetarian-cuisine-vegetable-clip-ar-spinach-5a753501c985f2 1.png"
            alt="">
        </div>
        <p>Vegetables</p>
      </swiper-slide>
      <swiper-slide class="category">
        <div>
          <img
            src="../../assets/images/kisspng-spinach-salad-vegetarian-cuisine-vegetable-clip-ar-spinach-5a753501c985f2 1.png"
            alt="">
        </div>
        <p>Vegetables</p>
      </swiper-slide>
      <swiper-slide class="category">
        <div>
          <img
            src="../../assets/images/kisspng-spinach-salad-vegetarian-cuisine-vegetable-clip-ar-spinach-5a753501c985f2 1.png"
            alt="">
        </div>
        <p>Vegetables</p>
      </swiper-slide>
      <swiper-slide class="category">
        <div>
          <img
            src="../../assets/images/kisspng-spinach-salad-vegetarian-cuisine-vegetable-clip-ar-spinach-5a753501c985f2 1.png"
            alt="">
        </div>
        <p>Vegetables</p>
      </swiper-slide>
      <swiper-slide class="category">
        <div>
          <img
            src="../../assets/images/kisspng-spinach-salad-vegetarian-cuisine-vegetable-clip-ar-spinach-5a753501c985f2 1.png"
            alt="">
        </div>
        <p>Vegetables</p>
      </swiper-slide>
      <swiper-slide class="category">
        <div>
          <img
            src="../../assets/images/kisspng-spinach-salad-vegetarian-cuisine-vegetable-clip-ar-spinach-5a753501c985f2 1.png"
            alt="">
        </div>
        <p>Vegetables</p>
      </swiper-slide>
      <swiper-slide class="category">
        <div>
          <img
            src="../../assets/images/kisspng-spinach-salad-vegetarian-cuisine-vegetable-clip-ar-spinach-5a753501c985f2 1.png"
            alt="">
        </div>
        <p>Vegetables</p>
      </swiper-slide>
      <swiper-slide class="category">
        <div>
          <img
            src="../../assets/images/kisspng-spinach-salad-vegetarian-cuisine-vegetable-clip-ar-spinach-5a753501c985f2 1.png"
            alt="">
        </div>
        <p>Vegetables</p>
      </swiper-slide>
      <swiper-slide class="category">
        <div>
          <img
            src="../../assets/images/kisspng-spinach-salad-vegetarian-cuisine-vegetable-clip-ar-spinach-5a753501c985f2 1.png"
            alt="">
        </div>
        <p>Vegetables</p>
      </swiper-slide>
    </swiper-container>
  </div>

  <!-- Special Deal -->
  <div class="deals" *ngIf="posts && posts.length > 0; else dealsSkeleton">
    <div class="head">
      <h2>Top Products</h2>
      <ion-button fill="clear" (click)="goToProducts()"> <span>See more</span> <span><ion-icon
            name="chevron-forward-outline"></ion-icon></span></ion-button>
    </div>
    <swiper-container slides-per-view="auto" space-between="">
      <swiper-slide *ngFor="let product of posts" (click)="goToProductdetail(product.id)">
        <ion-card class="product-card" >
          <div class="image-container">
            <img *ngIf="product.imageUrl" [src]="product.imageUrl" [alt]="product.altText" />
            <div class="fav"><ion-icon name="heart-outline"></ion-icon></div>
          </div>
          <ion-card-content>
            <h2>{{product.title}}</h2>
            <div class="price-section">
              <p class="price">
                <span>{{product.currency}} {{product.price}}</span>
                <span class="weight">/ kg</span>
              </p>
              <p class="cut-price">PKR 21,000</p>
            </div>
            <div class="add">
              <button fill="clear" class="add-button">
                <ion-icon name="add-outline"></ion-icon>
              </button>
            </div>
          </ion-card-content>
        </ion-card>
      </swiper-slide>
    </swiper-container>
    
    <!-- <swiper-container slides-per-view="auto" space-between="">
      <swiper-slide><img src="../../assets/images/Rectangle 10.png" /></swiper-slide>
      <swiper-slide><img src="../../assets/images/Rectangle 10.png" /></swiper-slide>
      <swiper-slide><img src="../../assets/images/Rectangle 10.png" /></swiper-slide>
      <swiper-slide><img src="../../assets/images/Rectangle 10.png" /></swiper-slide>
    </swiper-container> -->
  </div>

</ion-content>

<app-footer>

<ng-template #dealsSkeleton>
  <div class="deals">
    <div class="head">
      <ion-skeleton-text animated style="width: 120px; height: 24px; border-radius: 4px;"></ion-skeleton-text>
      <ion-skeleton-text animated style="width: 60px; height: 24px; border-radius: 4px;"></ion-skeleton-text>
    </div>

    <swiper-container slides-per-view="auto">
      <swiper-slide *ngFor="let i of [1,2,3,4]">
        <ion-card class="product-card">
          <div class="image-container">
            <ion-skeleton-text animated style="width: 157px; height: 131px; border-radius: 10px;"></ion-skeleton-text>
            <div class="fav">
              <ion-icon name="heart-outline"></ion-icon>
            </div>
          </div>
          <ion-card-content>
            <h2>
              <ion-skeleton-text animated style="width: 80%; height: 18px;"></ion-skeleton-text>
            </h2>
            <div class="price-section">
              <p class="price">
                <ion-skeleton-text animated style="width: 60px; height: 16px;"></ion-skeleton-text>
                <span class="weight">/ kg</span>
              </p>
              <p class="cut-price">
                <ion-skeleton-text animated style="width: 50px; height: 12px;"></ion-skeleton-text>
              </p>
            </div>
            <div class="add">
              <ion-skeleton-text animated style="width: 29px; height: 29px; border-radius: 10px;"></ion-skeleton-text>
            </div>
          </ion-card-content>
        </ion-card>
      </swiper-slide>
    </swiper-container>
  </div>
</ng-template>